{"version":3,"file":"main.js","mappings":"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","sources":["webpack://pondsharp.client/webpack/runtime/chunk loaded","webpack://pondsharp.client/webpack/runtime/load script","webpack://pondsharp.client/./Pond/pond-renderer.ts","webpack://pondsharp.client/./IDE/code-editor.ts","webpack://pondsharp.client/./main.ts","webpack://pondsharp.client/webpack/bootstrap","webpack://pondsharp.client/webpack/runtime/compat get default export","webpack://pondsharp.client/webpack/runtime/define property getters","webpack://pondsharp.client/webpack/runtime/ensure chunk","webpack://pondsharp.client/webpack/runtime/get javascript chunk filename","webpack://pondsharp.client/webpack/runtime/global","webpack://pondsharp.client/webpack/runtime/hasOwnProperty shorthand","webpack://pondsharp.client/webpack/runtime/make namespace object","webpack://pondsharp.client/webpack/runtime/node module decorator","webpack://pondsharp.client/webpack/runtime/publicPath","webpack://pondsharp.client/webpack/runtime/jsonp chunk loading","webpack://pondsharp.client/webpack/runtime/nonce","webpack://pondsharp.client/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"pondsharp.client:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import * as PIXI from \"pixi.js\";\r\n\r\nconst win: typeof window & {Blazor: any} = window as any;\r\n\r\nexport class PondRenderer {\r\n    private pondRef: any;\r\n    private element: HTMLDivElement;\r\n    private application: PIXI.Application;\r\n    private entities: Record<number, PIXI.Container> = {};\r\n    private entityHolder: PIXI.Container;\r\n    private fps: PIXI.Text;\r\n    private cursor: PIXI.Graphics;\r\n    private gridSize: number;\r\n    private width: number;\r\n    private height: number;\r\n    private isMouseDown = false;\r\n    private lastGridLocation: {x: number, y: number};\r\n    \r\n    public constructor(pondRef: any, element: HTMLElement, width: number, height: number, gridSize: number) {\r\n        this.pondRef = pondRef;\r\n        this.element = element as HTMLDivElement;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.gridSize = gridSize;\r\n        this.init();\r\n    }\r\n    \r\n    private init() {\r\n        if (this.application) {\r\n            console.debug(\"Removing PIXI instance\");\r\n            this.application.view.parentNode.removeChild(this.application.view);\r\n            this.application.destroy(true, {children: true, texture: true, baseTexture: true});\r\n            this.application = null;\r\n            const child = this.element.children.item(0);\r\n            if (child)\r\n                this.element.removeChild(this.element.children.item(0));\r\n        }\r\n        console.debug(\"Creating PIXI instance\");\r\n        // noinspection JSSuspiciousNameCombination\r\n        this.application = new PIXI.Application({\r\n            width: this.width * this.gridSize,\r\n            height: this.height * this.gridSize,\r\n        });\r\n        this.application.renderer.plugins.interaction.cursorStyles.default = \"none\";\r\n        this.element.appendChild(this.application.view);\r\n        this.application.stage.x = this.application.view.width / 2;\r\n        this.application.stage.y = this.application.view.height / 2;\r\n        this.application.stage.width = this.application.view.width;\r\n        this.application.stage.height = this.application.view.height;\r\n        this.application.ticker.add(() => this.onTick());\r\n        this.entityHolder = new PIXI.Container();\r\n        this.application.stage.addChild(this.entityHolder);\r\n\r\n        this.fps = new PIXI.Text(\"FPS: ??\", {fill: 0xAAFFAA, fontSize: 8});\r\n        this.fps.x = -this.application.view.width/2;\r\n        this.fps.y = -this.application.view.height/2;\r\n        this.application.stage.addChild(this.fps);\r\n        \r\n        this.cursor = new PIXI.Graphics();\r\n        this.cursor.beginFill(0xFFFFFF);\r\n        this.cursor.drawCircle(this.gridSize/2, this.gridSize/2, this.gridSize/2);\r\n        this.cursor.endFill();\r\n        this.cursor.position.x = 0;\r\n        this.cursor.position.y = 0;\r\n        \r\n        this.application.stage.addChild(this.cursor);\r\n        this.application.stage.interactive = true;\r\n        \r\n        this.application.view.addEventListener(\"mousemove\", e => this.onMouseMove(e));\r\n        this.application.view.addEventListener(\"mousedown\", e => this.onMouseDown(e));\r\n        this.application.view.addEventListener(\"mouseup\", e => this.onMouseUp(e));\r\n    }\r\n    \r\n    private onMouseMove(e: MouseEvent) {\r\n        const gridLocation = this.getGridPosition(e);\r\n        this.cursor.position.x = gridLocation.x * this.gridSize;\r\n        this.cursor.position.y = gridLocation.y * this.gridSize;\r\n        this.lastGridLocation = gridLocation;\r\n    }\r\n    \r\n    private onMouseDown(e:  MouseEvent) {\r\n        e.stopPropagation();\r\n        this.isMouseDown = true;\r\n        this.lastGridLocation = this.getGridPosition(e);\r\n    }\r\n    \r\n    private onMouseUp(e:  MouseEvent) {\r\n        e.stopPropagation();\r\n        this.isMouseDown = false;\r\n    }\r\n    \r\n    private onClick(x: number, y: number) {\r\n        this.pondRef.invokeMethodAsync(\"OnClick\", x, y);\r\n    }\r\n    \r\n    private getGridPosition(e: MouseEvent): {x: number, y: number}\r\n    {\r\n        const stageXRaw = e.offsetX - this.application.stage.x;\r\n        const stageYRaw = e.offsetY - this.application.stage.y;\r\n        return {\r\n            x: Math.round(stageXRaw/this.gridSize),\r\n            y: Math.round(stageYRaw/this.gridSize)\r\n        }\r\n    }\r\n\r\n    private onTick() {\r\n        this.fps.text = `${Math.round(PIXI.Ticker.shared.FPS)} fps`;\r\n        if (this.isMouseDown) {\r\n            this.onClick(this.lastGridLocation.x, this.lastGridLocation.y);\r\n        }\r\n    }\r\n\r\n    start = () => this.application.start();\r\n    stop = () => this.application.stop();\r\n\r\n    resize(width: number, height: number, gridSize: number) {\r\n        console.debug(`Resize: ${width}x${height} gridSize: ${gridSize}`);\r\n        this.width = width;\r\n        this.height = height;\r\n        this.gridSize = gridSize;\r\n        this.init();\r\n    }\r\n    \r\n    createEntity(id: number, x: number, y: number, color: number) {\r\n        const graphic = new PIXI.Graphics();\r\n        graphic.beginFill(color);\r\n        graphic.drawCircle(this.gridSize/2, this.gridSize/2, this.gridSize/2);\r\n        graphic.endFill();\r\n        graphic.position.x = x * this.gridSize;\r\n        graphic.position.y = y * this.gridSize;\r\n        this.entities[id] = graphic;\r\n        this.entityHolder.addChild(graphic);\r\n    }\r\n    \r\n    destroyEntity(id: number) {\r\n        if (!this.entities[id]) return;\r\n        this.entities[id].destroy();\r\n        this.entities[id] = null;\r\n        delete this.entities[id];\r\n    }\r\n    \r\n    moveEntity(id: number, x: number, y: number) {\r\n        if (!this.entities[id]) return;\r\n        const container = this.entities[id];\r\n        container.position.x = x * this.gridSize;\r\n        container.position.y = y * this.gridSize;\r\n    }\r\n    \r\n    changeEntityColor(id: number, color: number) {\r\n        if (!this.entities[id]) return;\r\n        const graphic = this.entities[id] as PIXI.Graphics;\r\n        graphic.clear();\r\n        graphic.beginFill(color);\r\n        graphic.drawCircle(this.gridSize/2, this.gridSize/2, this.gridSize/2);\r\n        graphic.endFill();\r\n    }\r\n    \r\n    processEntityChangeRequestsRaw(pointer: any) {        \r\n        const length = win.Blazor.platform.getArrayLength(pointer);\r\n        let i;\r\n        for (i = 0; i < length; i++) {\r\n            const {entryPtr, id, type} = readEntityChangeHeader(pointer, i);\r\n            if (!this.entities[id]) continue;\r\n            switch (type) {\r\n                case EntityChangeType.Move:\r\n                    const {x,y} = readEntityMoveData(entryPtr);\r\n                    this.moveEntity(id, x, y);\r\n                    break;\r\n                case EntityChangeType.Color:\r\n                    const color = readEntityColorData(entryPtr);\r\n                    this.changeEntityColor(id, color);\r\n                    break;\r\n                case EntityChangeType.None: // None, no more updates in this memory\r\n                    console.debug(`Entity Changes Last Tick: ${i}`);\r\n                    return true;\r\n                default:\r\n                    throw new Error(\"unknown type\");\r\n            }\r\n        }\r\n        console.debug(`[FULL] Entity Changes Last Tick: ${i}`);\r\n        return true;\r\n    }\r\n}\r\n\r\nenum EntityChangeType {\r\n    None = 0,\r\n    Move = 1,\r\n    Color = 2,\r\n}\r\n\r\nfunction readEntityChangeHeader(pointer: any, offset: number): {entryPtr: any, id: number, type: EntityChangeType} {\r\n    const entryPtr = win.Blazor.platform.getArrayEntryPtr(pointer, offset, 16);\r\n    const id = win.Blazor.platform.readInt32Field(entryPtr, 0);\r\n    const type = win.Blazor.platform.readInt32Field(entryPtr, 4);\r\n    return {entryPtr, id, type};\r\n}\r\n\r\nfunction readEntityMoveData(entryPtr: any): {x: number, y: number} {\r\n    const x = win.Blazor.platform.readInt32Field(entryPtr, 8);\r\n    const y = win.Blazor.platform.readInt32Field(entryPtr, 12);\r\n    return {x,y};\r\n}\r\n\r\nfunction readEntityColorData(entryPtr: any): number {\r\n    return win.Blazor.platform.readInt32Field(entryPtr, 8);\r\n}","import {editor} from \"monaco-editor\";\r\n\r\n// @ts-ignore\r\nself.MonacoEnvironment = {\r\n    getWorkerUrl: function (moduleId: any, label: any) {\r\n        if (label === 'json') {\r\n            return './json.worker.js';\r\n        }\r\n        if (label === 'css' || label === 'scss' || label === 'less') {\r\n            return './css.worker.js';\r\n        }\r\n        if (label === 'html' || label === 'handlebars' || label === 'razor') {\r\n            return './html.worker.js';\r\n        }\r\n        if (label === 'typescript' || label === 'javascript') {\r\n            return './ts.worker.js';\r\n        }\r\n        return './editor.worker.js';\r\n    }\r\n};\r\n\r\nexport class CodeEditor {\r\n    private editor: editor.IStandaloneCodeEditor;\r\n    \r\n    constructor(private elementId: string) {\r\n        this.editor = editor.create(document.getElementById(elementId), {\r\n            value: \"\",\r\n            language: \"csharp\",\r\n            theme: \"vs-dark\",\r\n            automaticLayout: true,\r\n        });\r\n    }\r\n    \r\n    setCode(code: string) {\r\n        this.editor.setValue(code);\r\n    }\r\n    \r\n    getCode(): string {\r\n        return this.editor.getValue();\r\n    }\r\n}","// import \"./css/app.scss\";\r\nimport {PondRenderer} from \"./Pond/pond-renderer\";\r\nimport {CodeEditor} from \"./IDE/code-editor\";\r\n\r\n/// Defined by webpack.config.js\r\ndeclare var self: any;\r\n\r\nself.ponds = {};\r\nself.lastPond = 0;\r\nself.createPond = async function (pondRef: any, element: HTMLElement, width: number, height: number, gridSize: number) {\r\n    self.lastPond++;\r\n    const id = `pond_${self.lastPond}`;\r\n    self.ponds[id] = new PondRenderer(pondRef, element, width, height, gridSize);\r\n    return id;\r\n};\r\nself.createEditor = async function (elementId: string, globalName: string) {\r\n    self[globalName] = new CodeEditor(elementId)\r\n}\r\nself.getSize = () => [self.innerWidth, self.innerHeight]\r\nself.bindWindowResize = (obj: any) => {\r\n    let windowResizeDebounce: NodeJS.Timeout;\r\n    window.onresize = () => {\r\n        clearTimeout(windowResizeDebounce);\r\n        windowResizeDebounce = setTimeout(() => obj.invokeMethodAsync(\"OnWindowResized\"), 1000);\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpondsharp_client\"] = self[\"webpackChunkpondsharp_client\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [2612,2976], () => (__webpack_require__(8337)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","inProgress","dataWebpackPrefix","win","window","PondRenderer","pondRef","element","width","height","gridSize","entities","isMouseDown","start","this","application","stop","init","console","debug","view","parentNode","removeChild","destroy","children","texture","baseTexture","item","renderer","plugins","interaction","cursorStyles","default","appendChild","stage","x","y","ticker","add","onTick","entityHolder","addChild","fps","fill","fontSize","cursor","beginFill","drawCircle","endFill","position","interactive","addEventListener","e","onMouseMove","onMouseDown","onMouseUp","gridLocation","getGridPosition","lastGridLocation","stopPropagation","onClick","invokeMethodAsync","stageXRaw","offsetX","stageYRaw","offsetY","Math","round","text","resize","createEntity","id","color","graphic","destroyEntity","moveEntity","container","changeEntityColor","clear","processEntityChangeRequestsRaw","pointer","length","Blazor","platform","getArrayLength","i","entryPtr","type","readEntityChangeHeader","EntityChangeType","Move","readEntityMoveData","Color","readEntityColorData","None","Error","offset","getArrayEntryPtr","readInt32Field","self","MonacoEnvironment","getWorkerUrl","moduleId","label","CodeEditor","constructor","elementId","editor","document","getElementById","value","language","theme","automaticLayout","setCode","code","setValue","getCode","getValue","ponds","lastPond","createPond","createEditor","globalName","getSize","innerWidth","innerHeight","bindWindowResize","obj","windowResizeDebounce","onresize","clearTimeout","setTimeout","__webpack_module_cache__","__webpack_require__","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","reduce","promises","u","g","globalThis","Function","prop","prototype","hasOwnProperty","l","url","done","push","script","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","doneFns","forEach","bind","target","head","Symbol","toStringTag","nmd","paths","p","installedChunks","installedChunkData","promise","resolve","reject","error","errorType","realSrc","message","name","request","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}